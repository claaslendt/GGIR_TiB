<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="GGIR">
<title>Cookbook • GGIR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cookbook">
<meta property="og:description" content="GGIR">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@RpackageGGIR">
<meta name="twitter:site" content="@RpackageGGIR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="pkgdown.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">GGIR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1-2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-the-book">The book</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-the-book">
    <a class="dropdown-item" href="../articles/chapter1_WhatIsGGIR.html">1. What is GGIR</a>
    <a class="dropdown-item" href="../articles/chapter2_Pipeline.html">2. The GGIR Pipeline</a>
    <a class="dropdown-item" href="../articles/chapter3_QualityAssessment.html">3. Data Quality Assurance</a>
    <a class="dropdown-item" href="../articles/chapter4_AccMetrics.html">4. From Raw Data to Acceleration Metrics</a>
    <a class="dropdown-item" href="../articles/chapter5_StudyProtocol.html">5. Accounting for Study Protocol</a>
    <a class="dropdown-item" href="../articles/chapter6_DataImputation.html">6. How GGIR Deals with Invalid Data</a>
    <a class="dropdown-item" href="../articles/chapter7_DescribingDataWithoutKnowingSleep.html">7. Describing the Data Without Knowing Sleep</a>
    <a class="dropdown-item" href="../articles/chapter8_SleepFundamentalsSibs.html">8. Sleep Fundamentals - Sustained Inactivity Bout Detection (SIB)</a>
    <a class="dropdown-item" href="../articles/chapter9_SleepFundamentalsGuiders.html">9. Sleep Fundamentals - Guiding Sleep Detection</a>
    <a class="dropdown-item" href="../articles/chapter10_SleepAnalysis.html">10. Sleep Analysis</a>
    <a class="dropdown-item" href="../articles/chapter11_DescribingDataCutPoints.html">11. Physical Activity Fundamentals - Describing the data with cut-points</a>
    <a class="dropdown-item" href="../articles/chapter12_TimeUseAnalysis.html">12. Time-Use Analysis</a>
    <a class="dropdown-item" href="../articles/chapterInProgress.html">13. Circadian Rhythm Analysis</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-annexes">Annexes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-annexes">
    <a class="dropdown-item" href="../articles/GGIRParameters.html">GGIR Parameters</a>
    <a class="dropdown-item" href="../articles/GGIRoutput.html">GGIR Output</a>
    <a class="dropdown-item" href="../articles/readmyacccsv.html">Reading csv files with raw data</a>
    <a class="dropdown-item" href="../articles/ExternalFunction.html">Embedding external functions in GGIR</a>
    <a class="dropdown-item" href="../articles/CutPoints.html">Published cut-points and how to use them</a>
    <a class="dropdown-item" href="../articles/TutorialDaySegmentAnalyses.html">Day-segment analyses</a>
    <a class="dropdown-item" href="../articles/HouseHoldCoanalysis.html">Household co-analysis</a>
    <a class="dropdown-item" href="../articles/Cookbook.html">Cookbook</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/chapter0_Installation.html">Installation</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/chapter0_GetStarted.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-3-1-0/">Version 3.1-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-3-0-0/">Version 3.0-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-9-0/">Version 2.9-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-8-0/">Version 2.8-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-7-1/">Version 2.7-1</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-6-0/">Version 2.6-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-5-0/">Version 2.5-0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/chapter0_Contributing.html">Contributing</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/chapter0_Support.html">Need help?</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/wadpac/GGIR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/RpackageGGIR" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Cookbook</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wadpac/GGIR/blob/HEAD/vignettes/Cookbook.Rmd" class="external-link"><code>vignettes/Cookbook.Rmd</code></a></small>
      <div class="d-none name"><code>Cookbook.Rmd</code></div>
    </div>

    
    
<p>In this cook book you will find recipes for using GGIR in specific
scenarios.</p>
<div class="section level2">
<h2 id="handling-externally-derived-data">Handling externally derived data<a class="anchor" aria-label="anchor" href="#handling-externally-derived-data"></a>
</h2>
<div class="section level3">
<h3 id="actiwatch-data">Actiwatch data<a class="anchor" aria-label="anchor" href="#actiwatch-data"></a>
</h3>
<div class="section level4">
<h4 id="in--awd-format">in .AWD format<a class="anchor" aria-label="anchor" href="#in--awd-format"></a>
</h4>
<pre><code>GGIR(datadir = "/media/actiwatch_awd", # folder with epoch level .AWD file
  outputdir = "/media/myoutput",
  dataFormat = "actiwatch_awd",
  extEpochData_timeformat = "\%m/\%d/\%Y \%H:\%M:\%S",
  windowsizes = c(60, 900, 3600), # 60 is the expected epoch length
  HASIB.algo = "Sadeh1994",
  def.noc.sleep = c()) # &lt;= because we cannot use HDCZA for ZCY</code></pre>
</div>
<div class="section level4">
<h4 id="in--csv-format">in .CSV format<a class="anchor" aria-label="anchor" href="#in--csv-format"></a>
</h4>
<pre><code>GGIR(datadir = "/media/actiwatch_csv", # folder with epoch level .AWD file
  outputdir = "/media/myoutput",
  dataFormat = "actiwatch_csv",
  extEpochData_timeformat = "\%m/\%d/\%Y \%H:\%M:\%S",
  windowsizes = c(15, 900, 3600), # 15 is the expected epoch length
  HASIB.algo = "Sadeh1994",
  def.noc.sleep = c()) # &lt;= because we cannot use HDCZA for ZCY</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="uk-biobank-data-in--csv-format">UK Biobank data in .CSV format<a class="anchor" aria-label="anchor" href="#uk-biobank-data-in--csv-format"></a>
</h3>
<pre><code>GGIR(datadir = "/media/ukbiobank",
   outputdir = "/media/myoutput",
   dataFormat = "ukbiobank_csv",
   extEpochData_timeformat = "\%m/\%d/\%Y \%H:\%M:\%S",
   windowsizes = c(5, 900, 3600), # We know that data was stored in 5 second epoch
   desiredtz = "Europe/London") # We know that data was collected in the UK</code></pre>
</div>
<div class="section level3">
<h3 id="actigraph-count-data-in--csv-format">ActiGraph count data in .CSV format<a class="anchor" aria-label="anchor" href="#actigraph-count-data-in--csv-format"></a>
</h3>
<pre><code>GGIR(datadir = "/examplefiles",
   outputdir = "",
   dataFormat = "actigraph_csv",
   windowsizes = c(5, 900, 3600),
   threshold.in = round(100 * (5/60), digits = 2),
   threshold.mod = round(2500 * (5/60), digits = 2),
   threshold.vig = round(10000 * (5/60), digits = 2),
   extEpochData_timeformat = "\%m/\%d/\%Y \%H:\%M:\%S",
   do.neishabouricounts = TRUE,
   acc.metric = "NeishabouriCount_x")</code></pre>
</div>
<div class="section level3">
<h3 id="senwear-data-in--xls-format">Senwear data in .xls format<a class="anchor" aria-label="anchor" href="#senwear-data-in--xls-format"></a>
</h3>
<pre><code>GGIR(datadir = "C:/yoursenseweardatafolder",
    outputdir = "D:/youroutputfolder",
    windowsizes = c(60, 900, 3600),
    threshold.in = 1.5,
    threshold.mod = 3,
    threshold.vig = 6,
    dataFormat = "sensewear_xls",
    extEpochData_timeformat = "\%d-\%b-\%Y \%H:\%M:\%S",
    HASPT.algo = "NotWorn")</code></pre>
</div>
</div>
<div class="section level2">
<h2 id="handling-study-protocol">Handling study protocol<a class="anchor" aria-label="anchor" href="#handling-study-protocol"></a>
</h2>
<div class="section level3">
<h3 id="not-worn-during-night">Not worn during night<a class="anchor" aria-label="anchor" href="#not-worn-during-night"></a>
</h3>
<p>Data type: Any Study protocol: Worn during the day, taken off during
the night Wear location: Any</p>
<pre><code><span><span class="fu"><a href="../reference/GGIR.html">GGIR</a></span><span class="op">(</span>HASPT.algo <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NotWorn"</span>, <span class="st">"HDCZA"</span><span class="op">)</span>,</span>
<span>    HASIB.algo <span class="op">=</span> <span class="st">"vanHees2015"</span>,</span>
<span>    do.imp <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># Do not impute nonwear because sensor was never worn 24/7</span></span>
<span>    HASPT.ignore.invalid <span class="op">=</span> <span class="cn">NA</span>, <span class="co"># Treat nonwear as potential part of guider window</span></span>
<span>    ignorenonwear <span class="op">=</span> <span class="cn">FALSE</span>, <span class="co"># Consider nonwear as potential sleep</span></span>
<span>    includenightcrit <span class="op">=</span> <span class="fl">8</span>,</span>
<span>    includedaycrit <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></code></pre>
<p>If “NotWorn” is specified then a second guider can be supplied to the
same parameter as shown above. This second guider will be used if the
accelerometer is worn for more than 75 percent of the night. The example
above shows this for HDCZA.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent T van Hees, Jairo H Migueles, Medical Research Council UK, Accelting, French National Research Agency.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
