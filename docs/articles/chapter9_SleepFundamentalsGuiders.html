<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="GGIR">
<title>9. Sleep Fundamentals: Guiding sleep detection • GGIR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="9. Sleep Fundamentals: Guiding sleep detection">
<meta property="og:description" content="GGIR">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@RpackageGGIR">
<meta name="twitter:site" content="@RpackageGGIR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="pkgdown.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">GGIR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1-1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/chapter0_Installation.html">Installation</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/chapter0_GetStarted.html">Get started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-the-book">The book</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-the-book">
    <a class="dropdown-item" href="../articles/chapter1_WhatIsGGIR.html">1. What is GGIR</a>
    <a class="dropdown-item" href="../articles/chapter2_Pipeline.html">2. The GGIR Pipeline</a>
    <a class="dropdown-item" href="../articles/chapter3_QualityAssessment.html">3. Data Quality Assurance</a>
    <a class="dropdown-item" href="../articles/chapter4_AccMetrics.html">4. From Raw Data to Acceleration Metrics</a>
    <a class="dropdown-item" href="../articles/chapter5_StudyProtocol.html">5. Accounting for Study Protocol</a>
    <a class="dropdown-item" href="../articles/chapter6_DataImputation.html">6. How GGIR Deals with Invalid Data</a>
    <a class="dropdown-item" href="../articles/chapter7_DescribingDataWithoutKnowingSleep.html">7. Describing the Data Without Knowing Sleep</a>
    <a class="dropdown-item" href="../articles/chapter8_SleepFundamentalsSibs.html">8. Sleep Fundamentals - Sustained Inactivity Bout Detection (SIB)</a>
    <a class="dropdown-item" href="../articles/chapter9_SleepFundamentalsGuiders.html">9. Sleep Fundamentals - Guiding Sleep Detection</a>
    <a class="dropdown-item" href="../articles/chapter10_SleepAnalysis.html">10. Sleep Analysis</a>
    <a class="dropdown-item" href="../articles/chapter11_DescribingDataCutPoints.html">11. Physical Activity Fundamentals - Describing the data with cut-points</a>
    <a class="dropdown-item" href="../articles/chapter12_TimeUseAnalysis.html">12. Time-Use Analysis</a>
    <a class="dropdown-item" href="../articles/chapterInProgress.html">13. Circadian Rhythm Analysis</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-annexes">Annexes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-annexes">
    <a class="dropdown-item" href="../articles/GGIRParameters.html">GGIR Parameters</a>
    <a class="dropdown-item" href="../articles/GGIRoutput.html">GGIR Output</a>
    <a class="dropdown-item" href="../articles/readmyacccsv.html">Reading csv files with raw data</a>
    <a class="dropdown-item" href="../articles/ExternalFunction.html">Embedding external functions in GGIR</a>
    <a class="dropdown-item" href="../articles/CutPoints.html">Published cut-points and how to use them</a>
    <a class="dropdown-item" href="../articles/TutorialDaySegmentAnalyses.html">Day-segment analyses</a>
    <a class="dropdown-item" href="../articles/HouseHoldCoanalysis.html">Household co-analysis</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-3-1-0/">Version 3.1-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-3-0-0/">Version 3.0-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-9-0/">Version 2.9-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-8-0/">Version 2.8-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-7-1/">Version 2.7-1</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-6-0/">Version 2.6-0</a>
    <a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-5-0/">Version 2.5-0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/chapter0_Contributing.html">Contributing</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/chapter0_Support.html">Need help?</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/wadpac/GGIR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/RpackageGGIR" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>9. Sleep Fundamentals: Guiding sleep detection</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wadpac/GGIR/blob/HEAD/vignettes/chapter9_SleepFundamentalsGuiders.Rmd" class="external-link"><code>vignettes/chapter9_SleepFundamentalsGuiders.Rmd</code></a></small>
      <div class="d-none name"><code>chapter9_SleepFundamentalsGuiders.Rmd</code></div>
    </div>

    
    
<p>Sleep analysis in GGIR comes at three stages:</p>
<ol style="list-style-type: decimal">
<li><p>The discrimination of sleep and wakefulness periods, discussed in
the previous chapter.</p></li>
<li><p>Identification of time windows that guide the eventual sleep
detection, discussed in this chapter.</p></li>
<li><p>Assess overlap between the windows identified in step 1 and 2,
which we use to define the Sleep Period Time window (SPT) or the time in
bed window (TimeInBed) as discussed in chapter 10.</p></li>
</ol>
<p>A key challenge with sleep detection is to ignore day time rest
periods and short periods of not wearing the accelerometer that were
missed by the non-wear detection.</p>
<p>To ease this process GGIR starts by identifying the main time window
where sleep is likely. We will refer to the methods for defining the
window as <strong>guiders</strong>. The following guiders are
available:</p>
<p>If a sleep log is provided, GGIR uses by default guider sleep log, if
the sleep log is not available it falls back on the algorithm as
specified by parameter <code>HASPT.algo</code>, which allows tps ecify
any of the algorithms are discussed below (default HDCZA). If that
algorithm is not successful GGIR will falls back on a 12 hour window
centered around the least active consecutive 5 hours in the day. So,
when we refer to guider we refer to any of these methods.</p>
<div class="section level3">
<h3 id="time-window-used-for-sleep-analyses">Time window used for sleep analyses<a class="anchor" aria-label="anchor" href="#time-window-used-for-sleep-analyses"></a>
</h3>
<p>By default the sleep analysis only considers the window noon-noon,
which is not ideal for shift workers who may go to bed early in the day
and wake up after noon. To address this, GGIR changes the window of
analysis if this seems to be the case:</p>
<p>If the sleep log indicates that the person woke up after noon, the
sleep analysis in part 4 is done on the window from 6pm-6pm. Similarly,
if any other guider indicates that the person woke up after 11 am, the
sleep analysis in part 3 and 4 is done on the window 6pm-6pm.</p>
<p>In this way our method is sensitive to individuals who have their
main sleep period starting before noon and ending after noon, referred
as <strong>daysleepers</strong> in the output. This is for example the
case with shift workers. Note that guider L5+/-12 (discussed below) is
not able to do this, it will only consider the noon-noon time
window.</p>
</div>
<div class="section level2">
<h2 id="guiders">Guiders<a class="anchor" aria-label="anchor" href="#guiders"></a>
</h2>
<div class="section level3">
<h3 id="guider-sleeplog">Guider: Sleeplog<a class="anchor" aria-label="anchor" href="#guider-sleeplog"></a>
</h3>
<p>A sleep log (diary) as already used in some studies. The way GGIR
uses sleeplog was first described in a <a href="https://doi.org/10.1371/journal.pone.0142533" class="external-link">2015 article</a>.
Two sleeplog file structures are supported: the so-called basic and
advanced sleeplog.</p>
<p>To use this guider set the location of your sleeplog as value to
parameter <code>loglocation</code>.</p>
<div class="section level4">
<h4 id="basic-sleep-log">Basic sleep log<a class="anchor" aria-label="anchor" href="#basic-sleep-log"></a>
</h4>
<p>Example of a basic sleeplog:</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th>ID</th>
<th>onset_N1</th>
<th>wakeup_N1</th>
<th>onset_N2</th>
<th>wakeup_N2</th>
<th>onset_N3</th>
<th>wakeup_N3</th>
<th>onset_N4</th>
<th>…</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>123</td>
<td>22:00:00</td>
<td>09:00:00</td>
<td>21:00:00</td>
<td>08:00:00</td>
<td>23:45:00</td>
<td>06:30:00</td>
<td>00:00:00</td>
<td>…</td>
</tr>
<tr class="even">
<td>345</td>
<td>21:55:00</td>
<td>08:47:00</td>
<td></td>
<td></td>
<td>23:45:00</td>
<td>06:30:00</td>
<td>00:00:00</td>
<td>…</td>
</tr>
</tbody>
</table>
<ul>
<li><p>One column for participant id, this does not have to be the first
column. Specify which column it is with argument
<code>colid</code>.</p></li>
<li><p>Alternatingly one column for onset time and one column for waking
time. Specify which column is the column for the first night by argument
<code>coln1</code>, in the above example <code>coln1=2</code>.</p></li>
<li><p>Timestamps are to be stored without date as in hh:mm:ss with hour
values ranging between 0 and 23 (not 24). If onset corresponds to lights
out or intention to fall asleep, then it specify
<code>sleepwindowType = "TimeInBed"</code>.</p></li>
<li><p>There can be multiple sleeplogs in the same spreadsheet. Each row
representing a single recording.</p></li>
<li><p>First row: The first row of the spreadsheet needs to be filled
with column names. For the basic sleep log format it does not matter
what these column names are.</p></li>
<li><p>The first night in the basic sleeplog is assumed to correspond to
the first recorded night in the accelerometer recording. If you know
that sleep log start on a later day then make sure then add columns with
labels but without timestamps. Note that by recorded night we mean that
there is data regardless of whether the data is valid. So, if the
participant does not wear the accelerometer the first night then that is
still the first night in the recording.</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="advanced-sleep-log">Advanced sleep log<a class="anchor" aria-label="anchor" href="#advanced-sleep-log"></a>
</h4>
<p>Example of an advanced sleeplog for two recordings:</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
<col width="10%">
</colgroup>
<thead><tr class="header">
<th>ID</th>
<th>D1_date</th>
<th>D1_wakeup</th>
<th>D1_inbed</th>
<th>D1_nap_start</th>
<th>D1_nap_end</th>
<th>D1_nonwear1_off</th>
<th>D1_nonwear1_on</th>
<th>D2_date</th>
<th>…</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>123</td>
<td>2015-03-30</td>
<td>09:00:00</td>
<td>22:00:00</td>
<td>11:15:00</td>
<td>11:45:00</td>
<td>13:35:00</td>
<td>14:10:00</td>
<td>31/03/2015</td>
<td>…</td>
</tr>
<tr class="even">
<td>567</td>
<td>2015-04-20</td>
<td>08:30:00</td>
<td>23:15:00</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>21/04/2015</td>
<td>…</td>
</tr>
</tbody>
</table>
<p>Relative to the basic sleeplog format the advanced sleep log format
comes with the following changes:</p>
<ul>
<li><p>Recording are stored in rows, while all information per days are
stored in columns.</p></li>
<li><p>Information per day is preceded by one columns that holds the
calendar date. GGIR has been designed to recognise and handle any date
format but assumes that you have used the same date format consistently
through the sleeplog.</p></li>
<li><p>Per calendar date there is a column for wakeup time and followed
by a column for onset or in-bed time. Note that this is different from
the basic sleep log, where wakeup time follows the column for onset or
in-bed time. So, the advanced sleep log is calendar date oriented:
asking the participant when they woke up and when the fell asleep on a
certain date. However, if the sleep onset time is at 2am, you should
still fill in the 02:00:00, even though it is the 02:00:00 of the next
calendar date.</p></li>
<li><p>You can add columns relating to self-reported napping time and
nonwear time. These are not used for the sleep analysis in g.part3 and
g.part4, but used in g.part5 to facilitate napping analysis, see
argument <code>do.sibreport</code> and the paragraph on naps. Multiple
naps and multiple nonwear periods can be entered per day.</p></li>
<li><p>Leave cells for missing values blank.</p></li>
<li><p>Column names are critical for the advanced sleeplog format: Date
columns are recognised by GGIR as any column name with the word “date”
in it. The advanced sleep log format is recognised by GGIR by looking
out for the occurrence of at least two column names with the word “date”
in their name. Wakeup times are recognised with the words “wakeup” in
the column name. Sleeponset, to bed or in bed times are recognised as
the columns with any of the following character combinations in their
name: “onset”, “inbed”, “tobed”, or “lightsout”. Napping times are
recognised by columns with the word “nap” in their name. Nonwear times
are recognised by columns with the word “nonwear” in their
name.</p></li>
<li><p>GGIR guesses the data format by looping over common date formats.
If the date falls within 30 days of the start date of the accelerometer
recording then the date format is assumed to be found. It starts with
attempting “Y-m-d” (as in 2015-06-25).</p></li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="guider-hdcza">Guider: HDCZA<a class="anchor" aria-label="anchor" href="#guider-hdcza"></a>
</h3>
<p>The HDCZA algorithm is designed for studies with wrist-worn
accelerometer (raw) data where no sleep log is available. The algorithm
was first described in a <a href="https://dx.doi.org/10.1038/s41598-018-31266-z" class="external-link">2018 article</a>,
and has been modified slightly: Step 6 in Figure 1 has been replaced by
a single threshold (0.2 by default).<br></p>
<p>In short, step 1-6 attempt to classify time periods with limited
change in posture. Next, step 7 extracts time blocks longer than 30
minutes, step 8 includes intermittent time periods that shorter than 60
minutes, step 9 looks for the longest resulting block in the day, which
then in step 10 represents the guider window.</p>
<p>Note that step 10 of Figure 1 in the paper gives the false impression
that the step represents the final classification of the SPT window. The
way the guider is used to identify the SPT window is described in
chapter 10.</p>
<p>The time segment over which HDCZA is derived is by default from noon
to noon. However, if it ends between 11am and noon then it will be
applied again but to a 6pm-6pm time segment.</p>
<p>To use this guider set parameter
<code>HASPT.algo = “HorAngle”</code>.</p>
</div>
<div class="section level3">
<h3 id="guider-l5-12-legacy-algorithm">Guider: L5+/-12 (LEGACY ALGORITHM)<a class="anchor" aria-label="anchor" href="#guider-l5-12-legacy-algorithm"></a>
</h3>
<p><strong>Disclaimer: This legacy algorithm was used in publications
and therefore kept inside GGIR. As performance is expected to be less
than other available algorithm, we do not recommend using
it.</strong></p>
<p>This guider reflects the twelve hour window centred around the least
active 5 hours of the day. It is a very crude approach and likely to be
inferior to some of the other guiders, but easy to describe. It was
first presented in a <a href="https://dx.doi.org/10.1038/s41598-018-31266-z" class="external-link">2018
article</a>.</p>
<p>To use this guider set parameter
<code>def.noc.sleep = “c()”</code>.</p>
</div>
<div class="section level3">
<h3 id="guider-setwindow-legacy-algorithm">Guider: setwindow (LEGACY ALGORITHM)<a class="anchor" aria-label="anchor" href="#guider-setwindow-legacy-algorithm"></a>
</h3>
<p><strong>Disclaimer: This legacy algorithm was used in publications
and therefore kept inside GGIR. As performance is expected to be less
than other available algorithm, we do not recommend using
it.</strong></p>
<p>This guider uses a set window for each day in the recording. Start
and end time are specified with argument <code>def.noc.sleep</code>. For
example, to use this guider with a window from 10pm to 8am set parameter
<code>def.noc.sleep = “c(22, 8)”</code>.</p>
</div>
<div class="section level3">
<h3 id="guider-horangle-experimental">Guider: HorAngle (EXPERIMENTAL)<a class="anchor" aria-label="anchor" href="#guider-horangle-experimental"></a>
</h3>
<p><strong>Disclaimer: The status of this guider is experimental because
it has not been described and evaluated in a peer-reviewed publication
yet. This means revisions to the algorithm can be expected as the
algorithm matures.</strong></p>
<p>This guider is designed for hip-worn accelerometer (raw) data, by
looking for the longest period with a horizontal trunk. To do this it
needs GGIR part 1 and 2 to have derived the angle for the longitudinal
axis.</p>
<p>Setting parameter <code>sensor.location="hip"</code> triggers the
identification of the longitudinal axis by looking for the angle with
the strongest 24-hour lagged correlation.</p>
<p>You can also force GGIR to use a specific axis as longitudinal axis
with parameter <code>longitudinal_axis</code>.</p>
<p>Next, the algorithm identifies when the horizontal axis is between
-45 and 45 degrees and considers this a horizontal posture. Next, this
is used to identify the largest time in bed period, by only considering
horizontal time segments of at least 30 minutes, and then looking for
longest horizontal period in the day where gaps of less than 60 minutes
are ignored. Therefore, the last 4 steps in the algorithm are identical
to the last four steps in the HDCZA algorithm.</p>
<p>To use this guider set parameter
<code>HASPT.algo = “HorAngle”</code></p>
</div>
<div class="section level3">
<h3 id="guider-notworn-experimental">Guider: NotWorn (EXPERIMENTAL)<a class="anchor" aria-label="anchor" href="#guider-notworn-experimental"></a>
</h3>
<p><strong>Disclaimer: The status of this guider is experimental because
it has not been described and evaluated in a peer-reviewed publication
yet. This means revisions to the algorithm can be expected as the
algorithm matures.</strong></p>
<p>This guider is primarily designed for externally derived epoch data
expressed in movement counts and used for studies where the instruction
was not to wear the accelerometer during the night. GGIR then searches
for the longest period with near-zero movement.</p>
<p>It does this by using the 5 minute rolling average of the
acceleration metric values and applying a threshold that is 20% of the
standard deviation in the resulting signal.</p>
<p>However, if this threshold is less than the minimum value in the
signal the threshold is set equal to the 10th percentile in the
distribution.</p>
<p>Next, this is used to identify the largest non-movement period, by
only considering segments of at least 30 minutes, and then looking for
longest segment in the day where gaps of less than 60 minutes are
ignored. Therefore, the last 4 steps in the algorithm are identical to
the last four steps in the HDCZA and HorAngle algorithms.</p>
<p>To use this guider set parameter
<code>HASPT.algo = “NotWorn”</code></p>
</div>
</div>
<div class="section level2">
<h2 id="dealing-with-expected-or-detect-nonwear-time-segments">Dealing with expected or detect nonwear time segments<a class="anchor" aria-label="anchor" href="#dealing-with-expected-or-detect-nonwear-time-segments"></a>
</h2>
<p>Depending on study protocol we may want to interpret invalid data
(typically non-wear) differently:</p>
<ol style="list-style-type: decimal">
<li><p>If we want to rely on the available time series where invalid
time segments were imputed then leave parameter
<code>HASPT.ignore.invalid = FALSE</code> as default.</p></li>
<li><p>If we want to guider to ignore all invalid segment despite our
efforts to impute it, see <code>HASPT.ignore.invalid = TRUE</code>. This
approach may be helpful for studies where the accelerometer is often not
worn during the waking hour of the day.</p></li>
<li><p>If we want the guider to consider invalid segments as no movement
period set parameter <code>HASPT.ignore.invalid = NA</code>. This
approach may be helpful for studies where the accelerometer is often not
worn during the night.</p></li>
</ol>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent T van Hees, Jairo H Migueles, Medical Research Council UK, Accelting, French National Research Agency.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
